%h1= flash[:error]
%h1= flash[:alert]
%h1= flash[:notice]
%h1 New Thread
= nested_form_for @new_threadd, url: new_threadd_path do |f|
  - @new_threadd.posts.build
  = f.label :name
  = f.text_field :name
  = f.fields_for :posts do |p|
    = p.text_area :content
  = f.submit
%hr
%h1
  Name:
  = @board.name
%h2
  Shortcode:
  = @board.shortcode
%hr
%h3 Threads
%hr
- @threadds.each do |t|
  %h4
    %span= t.id
    %a{:href => threadd_path(:id => t)}
      %span= t.name
  - if t.posts.empty?
  - else
    %p
      %span= t.posts.first.id
      %span >
      - if t.posts.first.image?
        %a{:href => t.posts.first.image.url}= image_tag t.posts.first.image.url(:thumb)
      %span= t.posts.first.content
    - t.posts.last(2).each do |p|
      %p
        %span= p.id
        %span >
        - if p.image?
          %a{:href => p.image.url}= image_tag p.image.url(:thumb)
        %span= p.content